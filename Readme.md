##    Branches

-    UM-11.6 ЁЯФП zod error handling
##    All about Express Error Handling
**WHY ERROR HANDLING IS IMPORTANT**

ржЖржорж░рж╛ ржЬрж╛ржирж┐ Node ржПржХржЯрж┐ All Time Running рж╕рж╛рж░рзНржнрж╛рж░редрж╕рзБрждрж░рж╛ржВ, ржХрзЛржи ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢рж╛ржи ржпржжрж┐ ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗ ржбрж┐ржкрзНрж▓рзЯ рж╣ржУрзЯрж╛рж░ ржкрж░ ржХрзНрж▓рж╛рзЯрзЗржирзНржЯ ржПрж░ ржХрзЛржи ржПржХрж╢ржи ржПрж░ ржХрж╛рж░ржирзЗ ржХрзНрж░рзНржпрж╛рж╢ ржХрж░рзЗ ржмрж╛ ржЕржирзНржп ржХрзЛржи ржбрзЗржнрзЗрж▓ржкрж╛рж░ ржПрж░ ржмрж╛ржЧ ржПрж░ ржХрж╛рж░ржирзЗ ржХрзНрж░рзНржпрж╛рж╢ ржХрж░рзЗ рждрж╛рж╣рж▓рзЗ ржпрзЗржЗ рж╣рж┐ржЬрж┐ржмрж┐ржЬрж┐ рж╕рзНржкрзЗрж╕рж┐ржлрж┐ржХ ржПрж░рж░ ржЯрж╛ ржХрзНрж▓рж╛рзЯрзЗржирзНржЯ рж╕рж╛ржЗржбрзЗ ржП ржпрж╛ржмрзЗ ржЯрж╛ ржХржЦржирзЛ ржЗржЙржЬрж╛рж░ ржПрж░ ржмрзЛржзржЧржорзНржп рж╣ржмрзЗ ржирж╛ред
ржЖржмрж╛рж░ ржмрж┐ржнрж┐ржирзНржи ржзрж░ржирзЗрж░ ржПрж░рж░ ржмрж┐ржнрж┐ржирзНржи рж░ржХржо ржорзЗрж╕рзЗржЬ ржжрж┐ржмрзЗ ржПржмржВ ржмрж┐ржнрж┐ржирзНржи ржкрзНржпрж╛ржЯрж╛рж░рзНржирзЗ ржпрж╛ржмрзЗ ржпрж╛ ржлрзНрж░ржирзНржЯрзЗржирзНржб ржерзЗржХрзЗ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛ ржХрж░рж╛ ржХрж╖рзНржЯрж╕рж╛ржзрзНржп ржПржмржВ ржЗржлрж┐рж╕рж┐рзЯрзЗржирзНржЯ ржирж╛ ред рж╕рзБрждрж░рж╛ржВ рж╕ржХрж▓ ржкрзНрж░ржХрж╛рж░ ржПрж░рж░ ржХрзЗ ржПржХржЯрж┐ ржХржоржи ржкрзНржпрж╛ржЯрж╛рж░рзНржирзЗ ржкрж╛ржарж╛рждрзЗ ржкрж╛рж░рж▓рзЗ ржмрзНржпрж╛ржкрж╛рж░ржЯрж╛ рж╕рзБржирзНржжрж░ ржПржмржВ ржЧрзЛржЫрж╛ржирзЛ рж╣ржмрзЗред ржЖрж░ ржПржЗ рж╕ржХрж▓ ржкрзНрж░ржХрж╛рж░ ржПрж░рж░ ржХрзЗ ржЖржорж░рж╛ ржЧрзНрж▓рзЛржмрж╛рж▓ ржПржХржЯрж┐ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░ ржжрж┐рзЯрзЗ ржПржХ ржЬрж╛рзЯржЧрж╛ ржерзЗржХрзЗ ржХржирзНржЯрзНрж░рзЛрж▓ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред рж╕рзБрждрж░рж╛ржВ, ржпрзЗржХрзЛржирзЛ ржПржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗрж░ ржЬржирзНржп ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВ ржЕрждрзНржпржирзНржд ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржПржХржЯрж┐ ржмрж┐рж╖ржпрж╝ред

**SYNCHRONOUS ERROR HANDLING BY EXPRESS**
Express Application ржП synchronous & asynchronous ржжрзБржЗ ржзрж░ржирзЗрж░ ржХрзЛржбрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ ржПрж░рж░ handle ржХрж░рждрзЗ ржкрж╛рж░рж┐ ред ржХрж┐ржирзНрждрзБ ржоржЬрж╛рж░ ржмрзНржпрж╛ржкрж╛рж░ рж╣рж▓ Synchronous ржХрзЛржбрзЗрж░ ржЬржирзНржп Express ржбрж┐ржлрж▓рзНржЯ ржнрж╛ржмрзЗржЗ ржЖржорж╛ржжрзЗрж░ ржЬржирзНржп ржПрж░рж░ ржЯрж╛ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рзЗ ржжрзЗрзЯред ржпрзЗржоржиржГ

```powershell
app.get('/',(req,res)=>{
throw new Error(' Thamun! Ami Synchronous Error')
})
```
ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржЖржорж╛ржжрзЗрж░ рж╕рж╛рж░рзНржнрж╛рж░ ржХрзНрж░рзНржпрж╛рж╢ ржХрж░ржмрзЗ ржирж╛ ржПржмржВ ржЗржЙржЬрж╛рж░ рж░рзЗрж╕рзНржкржирзНрж╕ ржкрж╛ржмрзЗ ржкрж╛ржмрзЗредрждржмрзЗ рж░рзЗрж╕рзНржкржирзНрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржЗржЙржЬрж╛рж░ ржПржХржЯрж┐ HTML Error Tempalete ржкрж╛ржмрзЗ ржирж┐ржЪрзЗрж░ ржорждржГ

```powershell
<body>
<pre>Error:  Thamun! Ami Synchronous Error<br>    at F:\\ACC\\myMVC\\mvc\\index.js:13:11<br>    at Layer.handle [as handle_request] тАжтАж..</pre>
</body>
```
**ржПржХрзНрж╕ржкрзНрж░рзЗрж╕ ржПржЗ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж┐ржВ ржХрж┐ржнрж╛ржмрзЗ ржХрж░рзЗ ?** 
ржПржХрзНрж╕ржкрзНрж░рзЗрж╕ ржПрж░ ржмрж┐рж▓рзНржЯ ржЗржи ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░ ржПрж░ ржХрж╛рж░ржгрзЗ ! ржПржХрзНрж╕ржкрзНрж░рзЗрж╕ ржПрж░ ржмрж┐рж▓рзНржЯ ржЗржи ржПрж░рж░ рж╣рзНржпржирзНржбрзЗрж▓рж┐ржВ ржорж┐ржбрж▓ржУрзЯрж╛рж░ ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╕рзЗ ржПржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗрж░ Synchronous ржХрзЛржбрзЗрж░ ржПрж░рж░ ржПрж░рж░ржЧрзБрж▓рзЛ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рзЗ рж░рзЗрж╕рзНржкржирзНрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржПрж░рж░рзЗрж░ ржПржХржЯрж┐ HTML Template рж╕рзЗржирзНржб ржХрж░рзЗ ржжрзЗрзЯ ред
ржХрж┐ржирзНрждрзБ ржЖржорж░рж╛ ржпржжрж┐ ржПрж░рж░ржЯрж╛ржХрзЗ ржирж┐ржЬрзЗржжрзЗрж░ ржкржЫржирзНржж ржоржд ржПрж░рж░ ржорзЗрж╕рзЗржЬ ржжрж┐рзЯрзЗ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рждрзЗ ржЪрж╛ржЗ рждрж╛рж╣рж▓рзЗ ржЖржорж╛ржжрзЗрж░ржХрзЗ Express ржПрж░ рж╕рзЗржЗ ржмрж┐рж▓рзНржЯ ржЗржи ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░ржХрзЗ ржУржнрж╛рж░рж░рж╛ржЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗ ржЖржорж╛ржжрзЗрж░ ржмрж╛ржирж╛ржирзЛ `globalErrorHandler` ржорж┐ржбрж▓ржУрзЯрзНржпрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржорж╛ржзрзНржпржорзЗ ред ржПржЗ ржорж┐ржбрж▓ржУрзЯрзНржпрж╛рж░ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ рзк ржЯрж┐ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ ржирж┐ржмрзЗ , ржпрзЗржЦрж╛ржирзЗ ржкрзНрж░ржержоржЯрж┐ рж╣ржмрзЗ error ! рж░рж┐ржХрзБрзЯрзЗрж╕рзНржЯ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░ ржПрж░ рж╕рж╛ржерзЗ ржкрж╛рж░рзНржержХрзНржп ржХрж┐ржирзНрждрзБ ржПржЦрж╛ржирзЗржЗред рж░рж┐ржХрзБрзЯрзЗрж╕рзНржЯ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░ рзй ржЯрж┐ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ рж░рж┐рж╕рж┐ржн ржХрж░рзЗ , ржЖрж░ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░ рзк ржЯрж┐ ! ржирж┐ржЪрзЗ ржПржХржЯрж┐ рж╕рж┐ржорзНржкрж▓ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░ ржПрж░ ржлрж░ржорзНржпрж╛ржЯ ржжрзЗрзЯрж╛ рж╣рж▓ржГ
```js
app.use((err,req,res,next)=>{
 if(err){
  res.send(err.message)
 }else{
  res.send('my error')
 }
})
```
ржЦрзЗрзЯрж╛рж▓ ржХрж░рж▓рзЗ ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗржи ред ржЖржорж░рж╛ рж╢рзБржзрзБ ржПрж░рж░ ржорзЗрж╕рзЗржЬ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ ред ржЖржорж░рж╛ ржирж┐ржЬрзЗржжрзЗрж░ ржоржд ржХрзЛржи рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрзЛржб ржХрж┐ржирзНрждрзБ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ржирж╛ !ржПржЦржи ржЖржорж░рж╛ ржпржжрж┐ ржирж┐ржЬрзЗржжрзЗрж░ ржоржд error status code ржжрж┐рждрзЗ ржЪрж╛ржЗ рждрж╛рж╣рж▓рзЗ ржХрж┐ржирзНрждрзБ ржЖржорж░рж╛ ржкрж╛рж░ржм ржирж╛ ржХрж╛рж░ржи ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржПрж░ Error class рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ ржирзЗржЗ ред рж╕рзЗржЯрж┐ рж╣рж▓ ржПрж░рж░ ржорзЗрж╕рзЗржЬред
рждржмрзЗ ржЖржорж░рж╛ ржЪрж╛ржЗрж▓рзЗ ржирж┐ржЪрзЗрж░ ржХрзЛржб ржжрзНржмрж╛рж░рж╛ 
**ApiError** ржирж╛ржорзЗрж░ ржПржХржЯрж┐ class рждрзИрж░рж┐ ржХрж░рзЗ error message ржПрж░ ржкрж╛рж╢рж╛ржкрж╛рж╢рж┐ status code ржкрж╛ржарждрзЗ ржкрж╛рж░рж┐ред

```javascript
class ApiError extends Error {
 statusCode: number
 constructor(statusCode: number, message: string | undefined, stack = '') {
 super(message)
 this.statusCode = statusCode
   if (stack) {
    this.stack = stack
   } else {
     Error.captureStackTrace(this, this.constructor)
  }
 }
 }
export default ApiError
```
ржПржЗ ржХрзЛржбржЯрж┐ ApiError ржирж╛ржоржХ ржПржХржЯрж┐ class рждрзИрж░рж┐ ржХрж░рзЗред ржПржЯрж┐ Error class ржерзЗржХрзЗ ржПржХрзНрж╕ржЯрзЗржирзНржб ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред ржПржЯрж┐ ржПржХржЯрж┐ ржХрж╛рж╕рзНржЯржо ржПрж░рж░ class рж╣рж┐рж╕рж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ ржПржмржВ ржПрж░рж░рзЗрж░ ржмрж┐ржнрж┐ржирзНржи ржмрзИрж╢рж┐рж╖рзНржЯрзНржп ржзрж╛рж░ржг ржХрж░рзЗред ржПржЗ ржХрзНрж▓рж╛рж╕рзЗрж░ ржоржзрзНржпрзЗ ржЖржорж░рж╛ ржкрзНрж░ржзрж╛ржиржд ржжрзБржЗржЯрж┐ ржЬрж┐ржирж┐рж╕ ржжрзЗржЦрждрзЗ ржкрж╛ржЗ:

-    `statusCode:` ржПржЯрж┐ ржПрж░рж░рзЗрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрзЛржб рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗред
-    `constructor():` ржПржЯрж┐ ржХрзНрж▓рж╛рж╕рзЗрж░ ржХржирж╕рзНржЯрзНрж░рж╛ржХрзНржЯрж░ ржорзЗржержбред ржПржЯрж┐ ржПрж░рж░рзЗрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрзЛржб, ржорзЗрж╕рзЗржЬ ржПржмржВ рж╕рзНржЯрзНржпрж╛ржХ (ржпржжрж┐ ржерж╛ржХрзЗ) ржЧрзНрж░рж╣ржг ржХрж░рзЗред ржпржжрж┐ рж╕рзНржЯрзНржпрж╛ржХ ржирж╛ ржерж╛ржХрзЗ, рждржмрзЗ Error.captureStackTrace() ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржЯрж┐ рж╕рзЗржЯ ржХрж░рзЗ ржжрзЗрзЯред

ржПржЗ ржХрзЛржб ржжрзНржмрж╛рж░рж╛ ржЖржорж░рж╛ ржПржХржЯрж┐ ржХрж╛рж╕рзНржЯржо ржПрж░рж░ class ржмрзНржпрж╛ржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рж╣ржЬрзЗржЗ Status Code ржПржмржВ 
```javascript
Error Message ржжрзБржЗржЯрж┐ Parameter ржирж┐рзЯрзЗ Client Side ржП ржПржХржЯрж┐ ржПрж░рж░ throw ржХрж░рждрзЗ ржкрж╛рж░рж┐ред
app.get('/',(req,res)=>{
throw new ApiError(400,'thamun! ami error amar ekon status code o ase ! huh !')
})
throw new Error(тАЬ error message тАЭ) // Class Only receive message
Throw new ApiError( 404 , тАЭerror messagesтАЭ ) // Class receive message along with status code
```
**ASYNCHRONOUS ERROR HANDLING BY EXPRESS**
Express Application ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ рж╕ржоржпрж╝, Promise ржПрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХрж┐ржд ржХрж╛ржЬржЧрзБрж▓рж┐ ржЪрж╛рж▓рж╛ржирзЛрж░ рж╕ржоржпрж╝ ржПрж░рж░ ржШржЯрждрзЗ ржкрж╛рж░рзЗред ржПржЯрж┐ржХрзЗ ржмрж▓рж╛ рж╣рзЯ Asynchronous ржПрж░рж░ ! ржПржХрзНрж╕ржкрзНрж░рзЗрж╕ ржХрж┐ржирзНрждрзБ ржмрж╛ржЗ ржбрж┐ржлрж▓рзНржЯ ржПржЗ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рзЗ ржирж╛ ! ржпржжрж┐ ржПржЗ ржПрж░рж░ ржарж┐ржХржоржд ржирж╛ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛ рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржХрзНрж░рзНржпрж╛рж╢ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ! ржЖржорж░рж╛ Promise ржмрзНржпржмрж╣рж╛рж░ ржПрж╕рж┐ржиржХрзНрж░рзЛржирж╛рж╕ ржлрж╛ржВрж╢ржирзЗ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рждрзЗ, ржкрзНрж░ржержорзЗ ржПрж░рж░ржХрзЗ ржзрж░рждрзЗ рж╣ржмрзЗред ржПрж░ ржЬржирзНржп ржЖржорж░рж╛ try/catch ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рж┐ ржмрж╛ .then() /.catch() ржмрзНржпрж╛ржнрж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рж┐ ред рждржмрзЗ ржХрзЛржб рж╕рзБржирзНржжрж░ рж░рж┐ржбрзЗржмрж▓ ржХрж░рж╛рж░ ржЬржирзНржп ржЖржорж░рж╛ Try- Catch ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмред

**THROW ERROR USING BUILT IN ERROR CLASS**

ржЖржорж░рж╛ ржПржХрзНрж╕ржкрзНрж░рзЗрж╕ ржПрж░ `throw new Error()` ржПрж░ ржорж╛ржзрзНржпржорзЗ ржПрж░рж░ ржерзНрж░рзЛ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

```javascript
app.get('/example', async (req, res, next) => {
  try {
   const result = await someAsyncOperation();
    res.json(result); 
}catch (error) {
   throw new Eror(тАШError MessageтАЩ)
 }
});
```
ржЙржкрж░рзЗрж░ ржЙржжрж╛рж╣рж░ржгрзЗ, ржпржжрж┐ ржПрж╕рж┐ржиржХрзНрж░рзЛржирж╛рж╕ ржХрзЛржбрзЗ ржПрж░рж░ рж╣рзЯ рж╕рзЗржЯрж┐ catch ржмрзНрж▓ржХ ржзрж░рзЗ ржирж┐рзЯрзЗ ржбрж┐рж░рзЗржХрзНржЯ ржПрж░рж░ ржерзНрж░рзЛ ржХрж░рзЗ ржжрзЗржЗред

**THOW ERROR USING OUR CUSTOM API ERROR CLASS**
ржЖржорж░рж╛ ржПржХрзНрж╕ржкрзНрж░рзЗрж╕ ржПрж░ throw new ApiError() ржПрж░ ржорж╛ржзрзНржпржорзЗ ржПрж░рж░ ржерзНрж░рзЛ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

```javascript
app.get('/example', async (req, res, next) => {
try {
 const result = await someAsyncOperation();
 res.json(result); 
}catch (error) {
  throw new ApiEror( 400 , тАШError Message )
 }
})
```
ржЙржкрж░рзЗрж░ ржЙржжрж╛рж╣рж░ржгрзЗ, ржпржжрж┐ ржПрж╕рж┐ржиржХрзНрж░рзЛржирж╛рж╕ ржХрзЛржбрзЗ ржПрж░рж░ рж╣рзЯ рж╕рзЗржЯрж┐ catch ржмрзНрж▓ржХ ржзрж░рзЗ ржирж┐рзЯрзЗ ржбрж┐рж░рзЗржХрзНржЯ ржПрж░рж░ ржерзНрж░рзЛ ржХрж░рзЗ ржжрзЗржЗред ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржХрж┐ржирзНрждрзБ ржЖржорж░рж╛ ржЖржорж╛ржжрзЗрж░ ржХрж╛рж╕рзНржЯржо ржХрзНрж▓рж╛рж╕рзЗрж░ ржорж╛ржзрзНржпржорзЗ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрзЛржб ржЕ ржПрж░рж░ ржорзЗрж╕рзЗржЬ ржжрзБржЗржЯрж╛ржЗ ржерзНрж░рзЛ ржХрж░рждрзЗ ржкрж╛рж░ржЫрж┐ ред

**PASSING ERROR TO GLOBAL ERROR HANDLER USING NEXT()**

ржЖржорж░рж╛ ржпржЦржи `next()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ рждрж╛рж╣рж▓рзЗ рж╕рзЗ рждрж╛рж░ ржкрж░рзЗрж░ ржорж┐ржбрж▓ржУрзЯрж╛рж░ ржлрж╛ржВрж╢ржиржХрзЗ ржХрж▓ ржХрж░рзЗ ред ржХрж┐ржирзНрждрзБ ржЖржорж░рж╛ ржпржЦржи ржПрж░рж░ ржПрж░ ржоржзрзНржп ржжрж┐рзЯрзЗ ржХрзЛржи ржЖрж░рзНржЧрзБржорзЗржирзНржЯ ржкрж╛рж╕ ржХрж░ржм ржПржХрзНрж╕ржкрзНрж░рзЗрж╕ ржЖрж░ ржХрзЛржи ржХрж┐ржЫрзБ рждрзЛрзЯрж╛ржХрзНржХрж╛ ржирж╛ ржХрж░рзЗ ржбрж┐рж░рзЗржХрзНржЯ ржЧрзНрж▓рзЛржмрж╛рж▓рзЗрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░ ржПрж░ ржХрж╛ржЫрзЗ ржкрж╛ржарж┐рзЯрзЗ ржжрзЗржЗ ред ржорж╛ржирзЗ ржЧрж╛рзЬрж┐ ржХрж░рзЗ ржЬрзЗрж▓ржЦрж╛ржирж╛рзЯ ржкрж╛ржарж┐рзЯрзЗ ржжрзЗрзЯ ред ржПржЗ ржЧрж╛рзЬрж┐ржХрзЗ ржЖржорж░рж╛ ржХрж╛ржЬрзЗ рж▓рж╛ржЧрж┐рзЯрзЗ рж╕ржм ржПрж░рж░ ржПржХ ржЬрж╛рзЯржЧрж╛рзЯ ржпрзЗржи рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рждрзЗ ржкрж╛рж░рж┐ рждрж╛ржЗ ржЖржорж░рж╛ рж░рж┐ржХрзБрзЯрзЗрж╕рзНржЯ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░рзЗ ржХрзЛржи ржПрж░рж░ cartch ржмрзНрж▓ржХ ржПрж░ ржоржзрзНржпрзЗ ржзрж░рзЗ throw Error() / throw new ApiError() ржирж╛ ржХрж░рзЗ ржЖржорж░рж╛ ржЧрж╛рзЬрж┐ ржХрж░рзЗ ржкрж╛ржарж┐рзЯрзЗ ржжрзЗржЗ ржЧрзНрж▓рзЛржмрж╛рж▓ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░ ржПрж░ ржХрж╛ржЫрзЗ
```javascript
app.get('/example', (req, res, next) => {
try {
  const result = await someAsyncOperation();
  res.json(result); 
}} catch (error) {
   next(error);
 }
});
```
ржЧрзНрж▓рзЛржмрж╛рж▓ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ рждрж╛рж░ржкрж░ ржПржЗ ржПрж░рж░ржЯрж┐ рж╣рзНржпрж╛ржирзНржбрж▓ ржХрж░рзЗ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрзЛржб , ржорзЗрж╕рзЗржЬрж╕рж╣ ржПржХржЯрж┐ ржХржоржи ржкрзНржпрж╛ржЯрж╛рж░рзНржирзЗ рж░рзЗрж╕ржкржирзНрж╕ ржкрж╛ржарж╛ржпрж╝ред

**ржПржЗржмрж╛рж░ ржЖржорж░рж╛ ржПржХржЯрж┐ ржЧрзНрж▓рзЛржмрж╛рж▓ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ рж╕ржорзНржкрж░рзНржХрзЗ ржмрж┐рж╢ржжржнрж╛ржмрзЗ ржЬрж╛ржиржмред** 
ржЧрзНрж▓рзЛржмрж╛рж▓ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ ржПржХржЯрж┐ ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ рж╣рж┐рж╕рж╛ржмрзЗ ржПржХрзНрж╕ржкрзНрж░рзЗрж╕ ржПржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗ ржмрзНржпрж╛ржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ ржпрж╛ рж╕ржм ржПрж░рж░ржЧрзБрж▓рзЛ рж╕рзНржкрзЗрж╕рж┐ржлрж┐ржХржнрж╛ржмрзЗ рж╣рзНржпрж╛ржирзНржбрзЗрж▓рж╛рж░ ржжрж┐рзЯрзЗ ржПржХрзЗ ржПржХрзЗ ржзрж░рзЗ рждрж╛ржжрзЗрж░ ржПрж░рж░ ржлрж░ржорзНржпрж╛ржЯ ржерзЗржХрзЗ ржЖржорж╛ржжрзЗрж░ ржХржоржи ржПрж░рж░ ржкрзНржпрж╛ржЯрж╛рж░рзНржирзЗ ржХржиржнрж╛рж░рзНржЯ ржХрж░рзЗ рж░рзЗрж╕ржкржирзНрж╕ ржХрж░рзЗ ржкрж╛ржарж╛ржирзЛ рж╣рзЯ ! ржЖрж░ ржпржжрж┐ рж╕рзНржкрзЗрж╕рж┐ржлрж┐ржХржнрж╛ржмрзЗ ржзрж░рж╛ ржирж╛ рж╣рзЯ рждрж╛рж╣рж▓рзЗ ржЖржорж░рж╛ ржПржХржЯрж╛ рж╕рж┐ржорзНржкрж▓ ржХржоржи ржПрж░рж░ рж░рзЗрж╕рзНржкржирзНрж╕ ржкрж╛ржарж┐рзЯрзЗ ржжрзЗржЗ ржпрзЗржоржиржГ statusCode=500 , message= тАШSomething went wrog !
ржЖржмрж╛рж░ ржЖржорж░рж╛ ржЧрзНрж▓рзЛржмрж╛рж▓ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ ржлрж╛ржВрж╢ржирзЗрж░ ржнрж┐рждрж░ ржПрж░рж░ ржПрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЯрж╛ржЗржкржЧрзБрж▓рзЛ ржЪрзЗржХ ржХрж░рж╛рж░ ржорж╛ржзрзНржпржорзЗ рж╕рзНржкрзЗрж╕рж┐ржлрж┐ржХ ржПрж░рж░ рж░рзЗрж╕ржкржирзНрж╕ ржкрж╛ржарж╛ржЗ ржЖрж░ ржХрзЛржи ржЯрж╛ржЗржк ржирж╛ ржорж┐рж▓рж▓рзЗ ржЬрзЗржирзЗрж░рж┐ржХ ржПрж░рж░ ржорзЗрж╕рзЗржЬ тАЬSomething went wrongтАЭ рждрзЛ ржЖржЫрзЗржЗ тАЭ

**ZODERROR HANDLING**
Zod ржПржХржЯрж┐ ржбрж╛ржЯрж╛ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржпрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржбрж╛ржЯрж╛ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи ржХрж░рждрзЗ ржкрж╛рж░рж┐ ржЖржорж░рж╛ред рждржмрзЗ ржЖржорж░рж╛ ржЪрж╛ржЗрж▓рзЗ ржЖрж░рзЛ рж╕рж╣ржЬ ржнрж╛ржмрзЗ ржоржЩрзНржЧрзЛрж╕ ржжрж┐рзЯрзЗ ржХрж░рзЗ ржлрзЗрж▓рждрзЗ ржкрж╛рж░рждрж╛ржоред ржПржЦрж╛ржирзЗ zod ржЗржЙрж╕ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ редржПржХрзНрж╕ржЯрзНрж░рж╛ рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ рж▓рзЗрзЯрж╛рж░ ржЕрзНржпрж╛ржб ржХрж░рж╛рж░ ржЬржирзНржпред ржпрж╛ ржбрж╛ржЯрж╛ ржЧрзБрж▓рж┐ржХрзЗ рж░рж╛ржЙржЯ ржерзЗржХрзЗржЗ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи ржХрж░рзЗ ржлрзЗрж▓рзЗ, ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░рзЗ ржЖрж░ ржпрзЗрждрзЗ ржжрзЗрзЯ ржирж╛ред Zod ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржХрж╛рж░ржг ржПржЯрж┐ ржХржоржкрзНрж▓рзЗржХрзНрж╕ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи рж░рзБрж▓ ржжрзЗржУржпрж╝рж╛рж░ ржЬржирзНржпред

**CASTERROR HANDLING**
ржзрж░рзЗржи ржЖржорж╛ржжрзЗрж░ ржПржХржЯрж┐ рж╕рзНржХрж┐ржорж╛ ржЖржЫрзЗ ржпрзЗржЦрж╛ржирзЗ ржПржХржЯрж┐ ржлрж┐рж▓рзНржб ржирж╛ржорзНржмрж╛рж░ рж╣ржУрзЯрж╛рж░ ржХржерж╛ , ржХрж┐ржирзНрждрзБ ржнрзЗрж▓рзБржЯрж┐ ржЖрж╕рж▓рзЛ ржПржХржЯрж┐ рж╕рзНржЯрзНрж░рж┐ржВ, рждрж╛рж╣рж▓рзЗ ржПржХржЯрж┐ CastError рж╣ржмрзЗред CastError рж╣рзНржпрж╛ржирзНржбрж▓ ржХрж░рзЗ ржЖржорж░рж╛ ржЗржЙржЬрж╛рж░ ржЬрж╛ржирж╛рждрзЗ ржкрж╛рж░рж┐ ржпрзЗ ржР ржлрж┐рж▓рзНржбрзЗрж░ ржЬржирзНржп ржнрзЗрж▓рзБржЯрж┐ рж╕ржарж┐ржХ ржирж╛редржПржмржВ ржкрзНрж░рзЯрзЛржЬржиржмрзЛржзржХ ржПржХржЯрж┐ ржПрж░рж░ ржорзЗрж╕рзЗржЬ рж╕рзЗржирзНржб ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

**MONGOOSE ERROR HANDLING**
ValidationError рж╣рж▓рзЛ Mongoose ржПрж░ ржПржХржЯрж┐ ржмрж┐рж▓рзНржЯ-ржЗржи ржПрж░рж░ ржХрзНрж▓рж╛рж╕ ржпрж╛ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи рждрзНрж░рзБржЯрж┐ рж╣рзНржпрж╛ржирзНржбрж▓ ржХрж░рждрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред ржпржЦржи ржЖржорж░рж╛ ржХрзЛржирзЛ Mongoose ржоржбрзЗрж▓рзЗрж░ ржбрзЗржЯрж╛ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи ржЪрзЗржХ ржХрж░рж┐ рждржЦржи ржоржЩрзНржЧрзБрж╕ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи ржХрзНрж▓рж╛рж╕рзЗрж░ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ValidationError рждрзИрж░рж┐ рж╣ржпрж╝ред ржПрж░ ржорж╛ржзрзНржпржорзЗ ржЖржорж░рж╛ ржбрзЗржЯрж╛ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи ржПрж░рж░рзЗрж░ рж╕ржорж╕рзНржпрж╛ рж╕ржорзНржкрж░рзНржХрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рждржерзНржп рж╕рзЗржирзНржб ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

**API ERROR INSTANCE тЖТ CLASS :**
ржПржХржЯрж┐ ржПржХрзНрж╕ржкрзНрж░рзЗрж╕ рж╕рж╛рж░рзНржнрж╛рж░рзЗ API рждрзИрж░рж┐ ржХрж░рж╛рж░ рж╕ржорзЯ, ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛ ржЦрзБржмржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ред ржПржмржВ ржПржЗ ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрж▓ ржХрж░рж╛рж░ ржПржХржЯрж┐ ржЕржирзНржпрждржо ржЙржкрж╛рзЯ рж╣рж▓рзЛ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗрж░ built in class `тАЬErrorтАЭ ржХрзЗ extend` ржХрж░рзЗ ржЖржорж╛ржжрзЗрж░ ржирж┐ржЬрзЗржжрзЗрж░ ржоржд ржХрж░рзЗ ржЖрж░ржУ ржмрзЗрж╢рж┐ рж╣рж┐ржЙржорзНржпрж╛ржи рж░рж┐ржбрзЗржмрж▓ ржнрж╛ржмрзЗ рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ ржПрж░рж░ ржХрзЗ ржжрзЗржЦрж╛ржирзЛ ред ржЕрж░рзНржерж╛рзО ржЖржорж░рж╛ ржирж┐ржЬрзЗрж░рж╛ ржПржХржЯрж┐ class рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рж┐ ржпрзЗржЯрж╛ Error class ржХрзЗ extend ржХрж░рзЗ ржПржмржВ Error class ржПрж░ рж╕ржм ржкрзНрж░рзЛржкрж╛рж░рзНржЯрж┐ ржПржмржВ ржорзЗржержб ржирж┐ржЬрзЗрж░ ржоржзрзНржпрзЗ ржирж┐рзЯрзЗ ржЖрж╕ржмрзЗ ржПржмржВ ржкрж╛рж╢рж╛ржкрж╛рж╢рж┐ ржЖржорж░рж╛ ржПржХрзНрж╕ржЯрзНрж░рж╛ ржХрж┐ржЫрзБ ржкрзНрж░рзЛржкрж╛рж░рзНржЯрж┐ ржмрж╛ ржорзЗржержб ржЖржорж╛ржжрзЗрж░ ржкрзНрж░рзЯрзЛржЬржи ржЕржирзБрж╕рж╛рж░рзЗ ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░ржм ред ржПржЦржи ржЖржорж░рж╛ ржпржжрж┐ ржЖржорж╛ржжрзЗрж░ ржПржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗрж░ ржПржЗ throw new APIError() ржХрж░рж╛ ржПрж░рж░ржХрзЗ ржзрж░рждрзЗ ржЪрж╛ржЗ рждрж╛рж╣рж▓рзЗ ржЖржорж╛ржХрзЗ `instanceof` ржЕржкрж╛рж░рзЗржЯрж░рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржПрж░рж░ ржПржЗ ApiError ржХрзНрж▓рж╛рж╕рзЗрж░ instance ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рждрзЗ ржкрж╛рж░рж┐ ред

**JAVASCRIPT ERROR CLASS тЖТ CLASS**
ржЖржорж░рж╛ ржЬрж╛ржирж┐ Javascript ржЖржорж╛ржжрзЗрж░ ржХрж┐ржЫрзБ built in ржжрж┐рзЯрзЗ ржерж╛ржХрзЗред ржпрзЗржоржи Date class ржПрж░ ржмрзНржпрж╛ржкрж╛рж░рзЗ ржХрж┐ржирзНрждрзБ ржЖржорж░рж╛ рж╕ржмрж╛ржЗ ржЬрж╛ржирж┐ред ржПржЯрж╛ ржжрж┐рзЯрзЗ ржЖржорж░рж╛ ржЖржорж╛ржжрзЗрж░ ржПржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗ ржбрзЗржЯ рж░рж┐рж▓рзЗржЯрзЗржб рж╕ржм ржХрж┐ржЫрзБ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж┐ рждрж╛ржЗржирж╛? ржарж┐ржХ рждрзЗржоржирж┐ ржПржХржЯрж┐ Javascript Application ржПрж░ рж╕ржм рж░ржХржо ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛рж░ ржЬржирзНржп ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржЖржорж╛ржжрзЗрж░ ржпрзЗ ржХрзНрж▓рж╛рж╕ ржЯрж┐ ржжрж┐рзЯрзЗржЫрзЗ рж╕рзЗржЯрж╛ рж╣ржЪрзНржЫрзЗ Error Class ред ржПржХржЯрж┐ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржПржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗ ржпржд рж░ржХржо ржПрж░рж░ ржЖржЫрзЗ рж╕ржмржЗ ржПржЗ Error ржХрзНрж▓рж╛рж╕ ржПрж░ ржЕржирзНрждрж░рзНржнрзБржХрзНрждред ржПржЦржи ржЖржорж░рж╛ ржпржжрж┐ ржЖржорж╛ржжрзЗрж░ ржПржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗрж░ ржПржЗ throw new Error() ржХрж░ ржПрж░рж░ржХрзЗ ржзрж░рждрзЗ ржЪрж╛ржЗ рждрж╛рж╣рж▓рзЗ ржЖржорж╛ржХрзЗ instanceof ржЕржкрж╛рж░рзЗржЯрж░рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржПрж░рж░ ржПржЗ Error ржХрзНрж▓рж╛рж╕рзЗрж░ instance ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рждрзЗ ржкрж╛рж░рж┐ ред




**switch branch**

`git checkout UM-3`

### UM-6 ЁЯСНCreate User Interface and Modules

[visit this doc](https://mongoosejs.com/docs/typescript.html)

**Create:**

make `interface` -> `sechema` --> `model`-->`service`-->`controller`-->`route`

  users.interface.ts
  users.model.ts
  user.service.ts
  user.utils.ts
  user.controller.ts




**Step:1**

 `  yarn add typescript --dev`
  ` yarn add express mongoose`
  ` npm init`

**Next we configure the typescript file. so we need a ts config file.**

` tsc --init`

in the tsconfig.json file enalble the ./src and ./dist in source and ouotdir.

`yarn add dotenv`

---

`yarn add -D @types/express`

To run the file go to `ts-node-dev` documentation

`yarn add --dev ts-node-dev`
`yarn add cors`

Then add this to the package.json script file

    ts-node-dev --respawn --transpile-only server.ts

```js
 "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "start": "ts-node-dev --respawn --transpile-only src/server.ts"
  },
```

run ЁЯСН

    yarn start
    
---
[Read this blog step by step](https://blog.logrocket.com/linting-typescript-eslint-prettier/)

**Install ESLint:**
`npm install eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin --save-dev`
`yarn add eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin --save-dev`


**Install Prettier**
yarn add -D prettier

npm install --save-dev eslint-config-prettier

**Install Husky**

`yarn add husky --dev`

`yarn husky install`

`yarn husky add .husky/pre-commit "npm test"`

`yarn add -D lint-staged`

---
### UM-6 ЁЯСНCreate User Interface and Modules

[visit this doc](https://mongoosejs.com/docs/typescript.html)

Create:

make `interface` -> `sechema` --> `model`-->`service`-->`controller`-->`route`

  users.interface.ts
  users.model.ts
  user.service.ts
